{
  "name": "My workflow 5",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        0
      ],
      "id": "e4bd2d50-52d2-4037-9cc8-95c8fb808acb",
      "name": "When chat message received",
      "webhookId": "aeab1e16-cb37-40c5-b3c8-a33e1ac1b695"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=Role\nYou are a world class appointment setter able to efficiently handle tasks such as getting the list of meetings for a day or period, book calendar events and meetings with people. Please focus on being helpful, proactive and ensure the human use has a positive experience interacting with you.\n\nTasks\nHelp the human you are talking to by answering their questions to your best knowledge and tool abilities. When a task requires using one or more of these tools, please identify which tool is most appropriate, call it by passing along any required inputs, and execute the actions needed to complete the requests from the human you are talking to.\n\nTools\nYou have access to multiple tools to help you fulfill requests:\n\nGet Contact Details: Call this tool to get contact information such as the email address of a person based on their name. You MUST use this tool before booking an appointment if you don't already have the email address of the contact.\n\nGet Meetings: Call this tool to get the list events, meetings or appointments from the calendar of the human.\n\nSchedule Meeting with Participant: Call this tool to create a new event, meetings or appointment with the participant mentioned by the human. If you don't have the recipient email address, use the Get Contact Details tool to find it based on the name or phone number of the recipient. If you can't find an email that matches, then you MUST ask the human for the email of the person you should be scheduling the meeting with. Only book new meetings when you have an available slot at the time the user asked for.\n\nKnowledge\nNotes\nPlease always format your answers in plain text, never in markdown or anything special characters.\n\nThis is the current date and time: {{$now}}. Please consider it when making hours."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        416,
        0
      ],
      "id": "cf87365a-41e2-43b1-8d7c-ded91c496bbf",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        112,
        224
      ],
      "id": "704197da-c723-4c52-b588-ca05713739ac",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "zZvWsXoDtL5ga5hH",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 8
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        288,
        224
      ],
      "id": "0c3f102b-458e-4295-8959-f049cc5ad650",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Get row(s) in sheet in Google Sheet , Use this tool to get the contact details of people or team members such as their emails based on thier names",
        "documentId": {
          "__rl": true,
          "value": "1lWnr8lcbJQbVe_f6S-MxgzwfO23kKZb0jDJwUQSPfm4",
          "mode": "list",
          "cachedResultName": "Contacts",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1lWnr8lcbJQbVe_f6S-MxgzwfO23kKZb0jDJwUQSPfm4/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 694807891,
          "mode": "list",
          "cachedResultName": "Main",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1lWnr8lcbJQbVe_f6S-MxgzwfO23kKZb0jDJwUQSPfm4/edit#gid=694807891"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        480,
        224
      ],
      "id": "112a5395-1793-4d5e-b91f-e892065cc52a",
      "name": "Get Contact Details",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "2klompsXAQ2wbM1m",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Use this tool to get the list of events or meetings for a given day or period",
        "resource": "calendar",
        "calendar": {
          "__rl": true,
          "value": "hussainezzi04@gmail.com",
          "mode": "list",
          "cachedResultName": "hussainezzi04@gmail.com"
        },
        "timeMin": "={{ $fromAI('timeMin', `one day before the time that the user has asked for`, 'string') }}",
        "timeMax": "={{ $fromAI('timeMax', `one day after the time that the user has asked for`, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        656,
        224
      ],
      "id": "b594adeb-7417-43ff-9a13-15ecce86e331",
      "name": "Get Meetings",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "Kx7sKk6wO85y0Ygr",
          "name": "Google Calendar account 4"
        }
      }
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Use this tool when a human ask you to schedule or book a event , meeting , call or appointment with a person",
        "calendar": {
          "__rl": true,
          "value": "=hussainezzi04@gmail.com",
          "mode": "id",
          "__regex": "(^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*)"
        },
        "start": "={{ $fromAI('StartTime','the time that human defines as the start of the event' ,'string' ) }}",
        "end": "={{ $fromAI('EndTime' , 'the time that human defines as the end of the event' ,'string') }}",
        "additionalFields": {
          "attendees": [],
          "guestsCanInviteOthers": false
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        816,
        224
      ],
      "id": "f0c323ec-b84f-4a94-b168-1eaf0c2e8e2e",
      "name": "Schedule Meeting with Participant",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "Kx7sKk6wO85y0Ygr",
          "name": "Google Calendar account 4"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Get Contact Details": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get Meetings": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Meeting with Participant": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "81414e4a-b5cf-405d-ba91-f6219fd7cae7",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "eca5b0eb5b96966b40e3d6d342a1e48a494f9dc35b262be99e0b6af013d4311d"
  },
  "id": "oCE40NOnDy5K3ycl",
  "tags": []
}